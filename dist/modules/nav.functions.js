import{$}from"@/core/dom";function removeActiveLinks(){this.$el.findAll(".nav__link").forEach((e=>{e.classList.remove("nav__link_active")}))}export function showLastSelected(){removeActiveLinks.call(this),this.tabs.forEach((e=>e.Component.hide()));try{const e=localStorage.getItem("lastSelected"),t=this.$el.find(`[data-name="${e}"]`),a=this.tabs.filter((e=>e.name===localStorage.getItem("lastSelected")))[0];t.addClass("nav__link_active"),a.Component.show()}catch(e){const t=this.$el.find('[data-name="latest"]'),a=this.tabs.filter((e=>"latest"===e.name))[0];t.addClass("nav__link_active"),a.Component.hide()}}export function openSearchTab(){removeActiveLinks.call(this),this.tabs.forEach((e=>e.Component.hide()));this.tabs.filter((e=>"search"===e.name))[0].Component.show(),this.$el.find('[data-name="search"]').removeClass("hidden").addClass("nav__link_active")}export function closeSearchTab(){removeActiveLinks.call(this),showLastSelected.call(this),this.$el.find('[data-name="search"]').addClass("hidden");try{this.tabs.filter((e=>e.name===localStorage.getItem("lastSelected")))[0].Component.show()}catch(e){this.tabs.filter((e=>"latest"===e.name))[0].Component.show()}}export function tabsHandler(e){e.preventDefault();const t=$(e.target);if(t.hasClass("nav__link")&&t.noClass("nav__link_active")){removeActiveLinks.call(this),t.addClass("nav__link_active"),localStorage.setItem("lastSelected",t.data.name),this.tabs.forEach((e=>e.Component.hide()));this.tabs.filter((e=>e.name===t.data.name))[0].Component.show(),this.$el.find('[data-name="search"]').addClass("hidden"),document.querySelector('[data-type="search-form"]').classList.remove("header__search-form_active")}}