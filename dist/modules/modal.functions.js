import{$}from"@/core/dom";export function modalHandler(s){"close"===s.target.dataset.act&&(document.querySelector("body").classList.remove("stop-scroll"),console.log(this),this.remove())}export function renderModal(s,a){const i=$(document.querySelector("body")),n="movie"===a?s.details.title:s.details.name,e="movie"===a?s.details.release_date.slice(0,4):s.details.first_air_date.slice(0,4),d="movie"===a?s.details.runtime+" мин":s.details.episode_run_time[0]+" мин",t=s.details.production_countries.length?s.details.production_countries[0].iso_3166_1:"не указана",l=document.createElement("div");return l.classList.add("modal"),l.setAttribute("data-act","close"),l.insertAdjacentHTML("afterbegin",`\n                <div class="modal__window" data-id="${s.details.id}  data-type="${a}">\n                    <div class="modal__window-top">\n                        <img class="modal__img" src="https://image.tmdb.org/t/p/w500/${s.details.poster_path}" alt="${n}">\n                        <div class="modal__additions">\n                            <span class="modal__additions-title">${n}</span>\n                            <span class="modal__additions-line">Год:&nbsp${e}</span> \n                            <span class="modal__additions-line">Время:&nbsp${d}</span>\n                            <span class="modal__additions-line">Страна:&nbsp${t}</span>\n                            <span class="modal__additions-line">Рейтинг:&nbsp${s.details.vote_average}</span>\n                            <span class="modal__additions-line">Голоса:&nbsp${s.details.vote_count}</span>\n                        </div>\n                    </div>\n                    <div class="buttons-container">\n                        <div class="button button_like"><i class="far fa-heart button__icon"></i>Сохранить</div>\n                        <div class="button button_seen"><i class="fas fa-eye button__icon"></i>Отметить</div>\n                    </div>\n                  \n                    <div class="modal__window-bottom">\n                        <div class="modal__section">\n                            <p class="modal__heading">Сюжет</p>\n                            <p>${s.details.overview}</p>\n                        </div>\n                        <div class="modal__section">\n                            <p class="modal__heading">Актеры</p>\n                            <div class="modal__slider">\n                                <div class="swiper-container actors__slider">\n                                    <div class="swiper-wrapper">\n                                        ${getSlides(s.cast.cast,"cast")}                   \n                                    </div>\n                                    <div class="swiper-pagination"></div>\n                                </div>\n                            </div>\n                        </div>\n                        <p class="modal__heading">Похожие фильмы</p>\n                        <div class="modal__slider">\n                            <div class="swiper-container similar__slider">\n                                <div class="swiper-wrapper">\n                                    <div class="swiper-slide">\n                                        <div class="modal__cast-wrapper">\n                                            <img src="./assets/icons/actor.jpg" alt="">\n                                            <p class="modal__cast-name">Натали Портман</p>\n                                            <p class="modal__cast-role">РольРоль</p>\n                                        </div>\n                                    </div>\n                                </div>\n                                <div class="swiper-pagination"></div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n        `),i.insert(l,"beforeend"),i.addClass("stop-scroll"),new Swiper(".actors__slider",{slidesPerView:2,spaceBetween:20,pagination:{el:".swiper-pagination",clickable:!0}}),new Swiper(".creators__slider",{slidesPerView:2,spaceBetween:20,pagination:{el:".swiper-pagination",clickable:!0}}),l}function getSlides(s,a){let i="";return s.length>10&&(s=s.slice(0,11)),s.forEach((s=>{null!==s.profile_path&&(i+=`\n                <div class="swiper-slide">\n                    <div class="modal__cast-wrapper">\n                        <img src="https://image.tmdb.org/t/p/w500/${s.profile_path}" alt="">\n                        <p class="modal__cast-name">${s.name}</p>\n                        <p class="modal__cast-name">${s.character}</p>\n                    </div>\n                </div>\n            `)})),i}